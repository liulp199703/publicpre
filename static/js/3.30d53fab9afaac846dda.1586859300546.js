webpackJsonp([3],{"9id4":function(t,e){},CLhy:function(t,e){},EA9O:function(t,e){},FEri:function(t,e){},WE3d:function(t,e){},"ePN/":function(t,e){},fQtw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{data:{},horizontal:!1,collapsable:!1,expandAll:!1,labelClassName:"bg-blue",selected:"selected",nownode:null,confirmDelete:null,dialogFormVisible:!1,dialogFormVisible2:!1,nowname:""}},mounted:function(){this.getdata()},methods:{getdata:function(){var t=this;this.$http.post("/api/admin/organization/getOrganization",{},function(e,i){t.data=i.rss.dat1})},renderContent:function(t,e){return e.name},onExpand:function(t){"expand"in t?(t.expand=!t.expand,!t.expand&&t.children&&this.collapse(t.children)):this.$set(t,"expand",!0)},onNodeClick:function(t,e){document.querySelectorAll(".org-tree-node-label-inner.bg-blue").forEach(function(t){t.style.backgroundColor="#1990FF"}),t.toElement.style.backgroundColor="red",this.nownode=e},collapse:function(t){var e=this;t.forEach(function(t){t.expand&&(t.expand=!1),t.children&&e.collapse(t.children)})},expandChange:function(){this.toggleExpand(this.data,this.expandAll)},toggleExpand:function(t,e){var i=this;Array.isArray(t)?t.forEach(function(t){i.$set(t,"expand",e),t.children&&i.toggleExpand(t.children,e)}):(this.$set(t,"expand",e),t.children&&i.toggleExpand(t.children,e))},addnode:function(){this.nowname="",this.nownode?this.dialogFormVisible2=!0:this.$message({message:"请先选择节点",type:"warning"})},okadd:function(){var t=this;if(this.nowname){this.dialogFormVisible2=!1;var e={name:this.nowname,parentId:this.nownode.id};this.$http.post("/api/admin/organization/addJd",e,function(e,i){t.getdata()})}else this.$message.error("节点名称不能为空")},editnode:function(){this.nownode?(this.dialogFormVisible=!0,this.nowname=this.nownode.name):this.$message({message:"请先选择节点",type:"warning"})},okedit:function(){var t=this;if(this.nowname){this.dialogFormVisible=!1;var e={id:this.nownode.id,name:this.nowname};this.$http.post("/api/admin/organization/alterName",e,function(e,i){t.getdata()})}else this.$message.error("节点名称不能为空")},deletenode:function(){var t=this;this.nownode?t.confirmDelete=function(e){t.confirmDelete=null,e&&t.okdelete()}:this.$message({message:"请先选择节点",type:"warning"})},okdelete:function(){var t=this;this.$http.post("/api/admin/organization/deleteByid",{id:this.nownode.id},function(e,i){t.getdata()})}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"flex-row align-items-center justify-center",staticStyle:{width:"calc(100% - 22px)",height:"70px",border:"1px #E4E4E4 solid","padding-left":"20px"}},[i("el-button",{staticClass:"el-icon-plus ",attrs:{type:"warning",size:"small"},on:{click:t.addnode}},[t._v(" 新增子类")]),t._v(" "),i("el-button",{staticClass:"el-icon-check addmargin",attrs:{type:"success",size:"small"},on:{click:t.editnode}},[t._v(" 重命名")]),t._v(" "),i("el-button",{staticClass:"el-icon-delete-solid",attrs:{type:"danger",size:"small"},on:{click:t.deletenode}},[t._v(" 删除")])],1),t._v(" "),i("div",{staticClass:"container",staticStyle:{"overflow-x":"scroll",width:"100%"}},[i("div",{},[i("div",{staticClass:"text-center"},[i("vue2-org-tree",{attrs:{name:"test",data:t.data,horizontal:t.horizontal,collapsable:t.collapsable,"label-class-name":t.labelClassName,"render-content":t.renderContent,"selected-class-name":t.selected},on:{"on-expand":t.onExpand,"on-node-click":t.onNodeClick}})],1)])]),t._v(" "),i("v-dialog",{attrs:{width:"400px",callback:t.confirmDelete,show:!!t.confirmDelete}},[[i("div",{staticStyle:{padding:"20px","font-weight":"600"}},[t._v("确定删除所选机构及其子类吗？"),i("p",{staticStyle:{"font-size":"14px","font-weight":"400"}},[t._v("删除后数据不可恢复，请谨慎选择")])])]],2),t._v(" "),i("el-dialog",{attrs:{title:"节点重命名",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-input",{model:{value:t.nowname,callback:function(e){t.nowname=e},expression:"nowname"}}),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.okedit()}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"增加节点",visible:t.dialogFormVisible2,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[i("span",[t._v("新节点名称：")]),i("el-input",{model:{value:t.nowname,callback:function(e){t.nowname=e},expression:"nowname"}}),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.okadd()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var s=i("C7Lr")(n,a,!1,function(t){i("n42f"),i("uqqi")},"data-v-5d831332",null).exports,o=i("3cXf"),l=i.n(o),c={data:function(){return{fb:"",fbtime:new Date,domains:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},message:!1,ruleForm:{},example:[]}},created:function(){var t=this;this.$bus.$on("savejson",function(e){t.submitForm()})},mounted:function(){var t=this;this.$http.post("/api/admin/organization/listAllOrganization",{},function(e,i){t.domains=JSON.parse(l()(i.rss.dat1)),t.example=JSON.parse(l()(i.rss.dat1))})},methods:{formatData:function(t){var e={};return t.forEach(function(t,i){e["value"+(i+1)]=t.value}),e},submitForm:function(){for(var t=this,e=0;e<this.domains.length;e++)if(this.domains[e].name==this.example[e].name&&this.domains[e].zn==this.example[e].zn)this.$emit("back",!1);else{var i={id:this.domains[e].id,name:this.domains[e].name,parentId:this.domains[e].parentId,zn:this.domains[e].zn};this.$http.post("/api/admin/organization/updateOrganization",i,function(e,i){t.$emit("back",!0)})}}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"border-normal",staticStyle:{padding:"10px",width:"calc(100% - 42px)"}},[i("el-form",{ref:"formData",staticClass:"form-dynamic",staticStyle:{height:"calc(100vh - 290px)"},attrs:{"label-width":"80px",model:t.ruleForm}},[i("v-scroll",{staticStyle:{width:"100%",height:"100%"},attrs:{ops:t.$configs.opts.scroll.lightgray}},t._l(t.domains,function(e,n){return i("div",{key:n,staticStyle:{"border-bottom":"1px #E4E4E4 solid","margin-top":"10px"}},[i("el-form-item",{attrs:{size:"mini",label:"机构名称"}},[i("el-input",{model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"domain.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"主要职能"}},[i("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.zn,callback:function(i){t.$set(e,"zn",i)},expression:"domain.zn"}})],1)],1)}),0),t._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-form-item",{attrs:{label:"发布时间",size:"mini"}},[i("el-date-picker",{staticStyle:{width:"20%"},attrs:{type:"date","picker-options":t.pickerOptions,placeholder:"选择日期"},model:{value:t.fbtime,callback:function(e){t.fbtime=e},expression:"fbtime"}})],1)],1)],1)],1)},staticRenderFns:[]};var d={components:{editjg:i("C7Lr")(c,r,!1,function(t){i("WE3d")},null,null).exports},data:function(){return{totaldata:[],updateTime:"--",showcont:!1}},mounted:function(){var t=this;this.$http.post("/api/admin/organization/listAllOrganization",{},function(e,i){t.totaldata=i.rss.dat1,i.rss.dat1.forEach(function(e){e.updateTime&&(t.updateTime=e.updateTime)})})},methods:{back:function(t){var e=this;t&&this.$http.post("/api/admin/organization/listAllOrganization",{},function(t,i){e.totaldata=i.rss.dat1,i.rss.dat1.forEach(function(t){t.updateTime&&(e.updateTime=t.updateTime)})}),this.showcont=!1}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{"font-size":"14px",height:"calc(100vh - 290px)"}},[i("v-scroll",{staticStyle:{width:"100%",height:"100%"},attrs:{ops:t.$configs.opts.scroll.lightgray}},[i("ul",t._l(t.totaldata,function(e,n){return i("li",{key:n,staticStyle:{"border-bottom":"1px #E4E4E4 solid"}},[i("div",[t._v("机构名称："+t._s(e.name))]),t._v(" "),i("div",[t._v("主要职能："+t._s(e.zn||"暂无数据"))])])}),0)])],1),t._v(" "),i("div",{staticStyle:{"font-size":"14px"}},[i("ul",[i("div",{staticStyle:{"line-height":"30px"}},[t._v("发布人：--")]),t._v(" "),i("div",{staticStyle:{"line-height":"30px"}},[t._v("发布时间："+t._s(t.updateTime))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showcont,expression:"showcont"}],staticClass:"editcontent"},[i("editjg",{on:{back:t.back}})],1)])},staticRenderFns:[]};var p=i("C7Lr")(d,u,!1,function(t){i("EA9O")},"data-v-6135704c",null).exports,h=i("u8tA"),m=i.n(h),f={props:{show:{type:Boolean,default:!1},title:{type:String,default:"请确定"},width:{type:String,default:"300px"},callback:{type:Function,default:null}},model:{prop:"show",event:"change"},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{change:function(){this.$emit("change",!1)},onok:function(){this.$emit("onok",{}),this.change(),this.callback&&this.callback(!0)},oncancel:function(){this.$emit("oncancel",{}),this.change(),this.callback&&this.callback(!1)}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",{staticClass:"dialog-wrapper",on:{click:t.change}},[i("div",{staticClass:"dialog-box",style:{width:t.width},on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"dialog-body"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"dialog-foot"},[i("a",{on:{click:t.oncancel}},[t._v("取消")]),t._v(" "),i("a",{on:{click:t.onok}},[t._v("确定")])])])]):t._e()},staticRenderFns:[]};var v={components:{EasyDia:i("C7Lr")(f,g,!1,function(t){i("rTm6")},"data-v-7b29f685",null).exports,vuescroll:m.a},data:function(){return{radio:"1",keyword:"",tableData:[{id:35405,xuhao:2,type:"环保咨询",title:"生态环境保护工作会议展开。。。。",info:"生态环境保护工作会议展开。。。",status:"以显示",name:"张三",date:"2016-05-02"}],multipleSelection:[],showcont:!1,current:!0,confirmDelete:null,confirmDelete2:null,confirmDelete3:null,num:0,type:"",maxheight:null,selectedarr:[],pageNum:1,pageSize:10,total:0,opt:null}},computed:{allpage:function(){return Math.ceil(this.total/this.pageSize)}},mounted:function(){var t=document.body.clientHeight;this.maxheight=t-270,console.log(this.maxheight),this.getdata()},watch:{keyword:function(t){this.getdata()}},methods:{handleSizeChange:function(t){this.pageSize=t,this.getdata()},handleCurrentChange:function(t){this.pageNum=t,this.getdata()},getdata:function(){var t=this,e={notOrgnazitionUser:1,pageNum:this.pageNum,pageSize:this.pageSize,keyword:this.keyword};this.$http.post("/api/admin/user/listUserFy",e,function(e,i){t.tableData=i.rss.dat1,t.total=i.result.total,console.log(i),t.tableData.forEach(function(t){1==t.sex?t.statutype="男":t.statutype="女",t.organizationId||(t.organizationId="--")})})},sortByDate:function(t,e){return t.id-e.id},handleDelete:function(t){var e=[];e.push(t.id),this.selectedarr=e;var i=this;i.confirmDelete2=function(t){i.confirmDelete2=null,t&&i.okdelete()}},handleSelectionChange:function(t){this.multipleSelection=t,this.num=t.length;var e=[];t.forEach(function(t){e.push(t.id)}),this.selectedarr=e},muldelete:function(){var t=this;this.num?t.confirmDelete=function(e){t.confirmDelete=null,e&&t.okdelete(),t.$refs.multipleTable.clearSelection()}:this.$message({message:"请先选择数据",type:"warning"})},okdelete:function(){var t=this,e={userIds:this.selectedarr};console.log(e),this.$http.post("/api/admin/user/setUserBatch",e,function(e,i){var n=t;n.confirmDelete3=function(t){n.confirmDelete3=null,t&&n.fb(),n.$emit("back",!0)},t.getdata()})},out:function(){this.$emit("back",!0)},fb:function(){var t=this;this.$http.post("/api/admin/user/publishUserByIds",{ids:this.selectedarr},function(e,i){t.$message({showClose:!0,message:"发布成功",type:"success"}),t.getdata()})}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},[i("div",{staticClass:"flex-row align-items-center",staticStyle:{width:"calc(100% - 42px)",height:"50px",border:"1px #E4E4E4 solid","padding-left":"20px"}},[i("el-button",{staticClass:"el-icon-plus",attrs:{type:"danger",size:"small"},on:{click:function(e){return t.muldelete()}}},[t._v(" 批量添加")]),t._v(" "),i("el-button",{staticClass:"el-icon-right",attrs:{type:"warning",size:"small"},on:{click:function(e){return t.out()}}},[t._v(" 退出")])],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"border-normal tablebox",staticStyle:{margin:"10px 0 0 0",width:"calc(100% - 22px)"}},[i("div",{staticClass:"searchinput"},[i("el-pagination",{attrs:{background:"","page-sizes":[10,20,30],"page-size":t.pageSize,layout:"sizes"},on:{"size-change":t.handleSizeChange}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.keyword,expression:"keyword",modifiers:{lazy:!0}}],staticStyle:{height:"20px","text-indent":"5px"},attrs:{placeholder:"输入关键字搜索"},domProps:{value:t.keyword},on:{change:function(e){t.keyword=e.target.value}}})],1),t._v(" "),i("el-table",{ref:"multipleTable",attrs:{data:t.tableData,size:"small","max-height":t.maxheight,"default-sort":{prop:"updateTime",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{"min-width":"60",type:"selection"}}),t._v(" "),i("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"","min-width":"80",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"用户名称","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"性别","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"limit"},[t._v(t._s(e.row.statutype))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"organizationId",label:"所属部门","min-width":"180",align:"center",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{prop:"zw",label:"职位","min-width":"140",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作","min-width":"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"flex-row justify-center"},[i("span",{staticClass:"el-icon-folder-add cursor-p",staticStyle:{"font-size":"24px",color:"#3CA8E1"},on:{click:function(i){return t.handleDelete(e.row)}}})])]}}])})],1)],1)]),t._v(" "),i("div",{staticClass:"flex-row text-12 justify-between ",staticStyle:{"margin-left":"0px","margin-top":"10px"}},[i("div",{staticStyle:{"text-align":"center","line-height":"2.5em","margin-left":"2em"}},[t._v("第"+t._s(t.pageNum)+"页,共"+t._s(t.allpage)+"页，共"+t._s(t.total)+"条")]),t._v(" "),i("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-sizes":[10,20,30],"page-size":t.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageNum=e},"update:current-page":function(e){t.pageNum=e}}})],1),t._v(" "),i("v-dialog",{attrs:{"min-width":"400px",callback:t.confirmDelete,show:!!t.confirmDelete}},[[i("div",{staticStyle:{padding:"20px 30px","font-weight":"600"}},[t._v("是否添加这"+t._s(t.num)+"条信息到组织人员信息\n\t\t\n\t\t\t")])]],2),t._v(" "),i("easy-dia",{attrs:{"min-width":"400px",callback:t.confirmDelete2,show:!!t.confirmDelete2}},[[i("div",{staticStyle:{padding:"20px 30px","font-weight":"600"}},[t._v("是否添加这条信息到组织人员信息\n\t\t\t\n\t\t\t")])]],2),t._v(" "),i("v-dialog",{attrs:{width:"400px",callback:t.confirmDelete3,show:!!t.confirmDelete3}},[[i("div",{staticStyle:{padding:"2em","font-weight":"600"}},[t._v("添加成功"),i("p",{staticStyle:{"font-size":"14px","font-weight":"400"}},[t._v("您已添加成功成功，是否发布？")])])]],2)],1)},staticRenderFns:[]};var _=i("C7Lr")(v,b,!1,function(t){i("CLhy"),i("FEri")},"data-v-89bc3920",null).exports,w={props:{opt:{type:Object,default:function(){return null}}},computed:{picurl:function(){var t="";return this.opt.pic&&(t=decodeURIComponent(this.opt.pic)),t},sextype:function(){return(this.opt.sex=1)?"男":"女"}},data:function(){return{imageUrl:"",params:{type:1}}},mounted:function(){},methods:{backhome:function(){this.$emit("hideuser",!1)},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){this.$message({showClose:!0,message:"上传成功",type:"success"})}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{staticClass:"flex-row align-items-center",staticStyle:{width:"calc(100% - 42px)",height:"50px",border:"1px #E4E4E4 solid","padding-left":"20px"}},[i("el-button",{staticClass:"el-icon-view",attrs:{type:"primary",size:"small"},on:{click:function(e){t.showcont=!0}}},[t._v(" 预览")]),t._v(" "),i("el-button",{staticClass:"el-icon-right",attrs:{type:"warning",size:"small"},on:{click:function(e){return t.backhome()}}},[t._v(" 退出")])],1),t._v(" "),i("div",{staticClass:"flex-row",staticStyle:{border:"1px solid #e4e4e4",margin:"10px 0","padding-top":"10px",height:"calc(100vh - 190px)",width:"calc(100% - 22px)"}},[i("div",[i("ul",[i("li",{},[i("div",[t._v("职位："+t._s(t.opt.zw))]),t._v(" "),i("div",[t._v("姓名："+t._s(t.opt.name))]),t._v(" "),i("div",[t._v("性别："+t._s(t.sextype))]),t._v(" "),i("div",[t._v("所属部门："+t._s(t.opt.organizationId))]),t._v(" "),i("div",[t._v("职务："+t._s(t.opt.zw))]),t._v(" "),i("div",[t._v("工作分工："+t._s(t.opt.gzfg))]),t._v(" "),i("div",[t._v("联系电话："+t._s(t.opt.phone))]),t._v(" "),i("div",[t._v("工作经历："+t._s(t.opt.gzjl))])])])]),t._v(" "),i("div",{staticStyle:{"margin-left":"20%","margin-top":"30px"}},[t._m(0),t._v(" "),t.opt.pic?i("img",{staticStyle:{height:"100px"},attrs:{src:t.picurl}}):i("div",{staticStyle:{"font-size":"12px",color:"#2B81AF"}},[t._v("暂无照片")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"font-size":"16px"}},[this._v("照片 "),e("span",{staticStyle:{"font-size":"12px"}})])}]};var y={components:{adduser:_,userdetail:i("C7Lr")(w,x,!1,function(t){i("ePN/")},"data-v-72427fef",null).exports},data:function(){return{keyword:"",tableData:[{id:35405,xuhao:2,type:"环保咨询",title:"生态环境保护工作会议展开。。。。",info:"生态环境保护工作会议展开。。。",status:"以显示",name:"张三",date:"2016-05-02"}],multipleSelection:[],showcont:!1,current:!0,confirmDelete:null,num:0,type:-1,routede:!1,opt:null,pageNum:1,pageSize:10,total:0,maxheight:null}},created:function(){var t=this;this.$bus.$on("maxheight",function(e){t.maxheight=e-270})},props:{isboss:{type:Number}},computed:{allpage:function(){return Math.ceil(this.total/this.pageSize)}},watch:{isboss:function(t){this.getdata()},keyword:function(t){this.getdata()}},mounted:function(){var t=document.body.clientHeight;this.maxheight=t-270,this.getdata()},methods:{handleSizeChange:function(t){this.pageSize=t,this.getdata()},handleCurrentChange:function(t){this.pageNum=t,this.getdata()},getdata:function(){var t=this;if(this.isboss<0)var e={pageNum:this.pageNum,pageSize:this.pageSize,keyword:this.keyword};else e={isBoss:this.isboss,pageNum:this.pageNum,pageSize:this.pageSize,keyword:this.keyword};console.log(e),this.$http.post("/api/admin/user/listUserFy",e,function(e,i){t.tableData=i.rss.dat1,t.total=i.result.total,t.tableData.forEach(function(t){t.statu?t.statutype="已显示":t.statutype="待发布"})})},add:function(){this.showcont=!0},handleEdit:function(t){this.$router.push({name:"yhbj",params:{data:t}})},handleDelete:function(t){var e=this,i={id:t.id};this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post("/api/admin/user/deleteUserById",i,function(t,i){t?(e.$message({type:"success",message:"删除成功!"}),e.getdata()):e.$message({type:"info",message:"删除失败!"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},cx:function(t){var e=this;this.$http.post("/api/admin/user/chexiaoUserByIds",{ids:[t.id]},function(t,i){e.$message({showClose:!0,message:"已撤销",type:"warn"}),e.getdata()})},fb:function(t){var e=this;this.$http.post("/api/admin/user/publishUserByIds",{ids:[t.id]},function(t,i){e.$message({showClose:!0,message:"发布成功",type:"success"}),e.getdata()})},handleSelectionChange:function(t){this.multipleSelection=t,this.num=t.length},muldelete:function(){var t=this;this.num?t.confirmDelete=function(e){t.confirmDelete=null,e&&t.okdelete(),t.$refs.multipleTable.clearSelection()}:this.$message({message:"请先选择数据",type:"warning"})},okdelete:function(){this.$message({showClose:!0,message:"删除成功",type:"success"})},detail:function(t){this.opt=t,this.routede=!0},back:function(t){this.showcont=!1,this.getdata()},hideuser:function(t){this.routede=!1}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"flex-row align-items-center abpoint"},[i("el-button",{staticClass:"el-icon-plus",attrs:{type:"warning",size:"small"},on:{click:function(e){return t.add()}}},[t._v(" 添加内容")])],1),t._v(" "),i("div",{staticStyle:{width:"100%"}},[i("div",{staticStyle:{width:"100%"}},[i("div",{staticClass:"searchinput"},[i("el-pagination",{attrs:{background:"","page-sizes":[10,20,30],"page-size":t.pageSize,layout:"sizes"},on:{"size-change":t.handleSizeChange}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.keyword,expression:"keyword",modifiers:{lazy:!0}}],staticStyle:{height:"20px","text-indent":"5px"},attrs:{placeholder:"输入关键字搜索"},domProps:{value:t.keyword},on:{change:function(e){t.keyword=e.target.value}}})],1),t._v(" "),i("el-table",{ref:"multipleTable",attrs:{data:t.tableData,size:"small","default-sort":{prop:"updateTime",order:"descending"},"max-height":t.maxheight},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{"min-width":"55",align:"center",type:"selection"}}),t._v(" "),i("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"","min-width":"60"}}),t._v(" "),i("el-table-column",{attrs:{label:"所属分类","min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{},[t._v(t._s(e.row.zw))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"姓名","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"所属部门","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{},[t._v(t._s(e.row.organizationId||"--"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"updateTime",label:"添加时间",sortable:"","min-width":"170"}}),t._v(" "),i("el-table-column",{attrs:{label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{},[t._v(t._s(e.row.statutype))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"发布人","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{},[t._v(t._s(e.row.fbname||"--"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"flex-row"},[i("span",{staticClass:"iconfont icon-detail cursor-p color-xiangqing",staticStyle:{"font-size":"15px"},on:{click:function(i){return t.detail(e.row)}}},[i("p",[t._v("详情")])]),t._v(" "),i("span",{staticClass:"iconfont icon-bianji cursor-p color-bianji",staticStyle:{"font-size":"15px"},on:{click:function(i){return t.handleEdit(e.row)}}},[i("p",[t._v("编辑")])]),t._v(" "),e.row.statu?i("span",{staticClass:"iconfont icon-chexiao cursor-p color-fabu",staticStyle:{"font-size":"15px"},on:{click:function(i){return t.cx(e.row)}}},[i("p",[t._v("撤销")])]):i("span",{staticClass:"iconfont icon-fabu cursor-p color-fabu",staticStyle:{"font-size":"15px"},on:{click:function(i){return t.fb(e.row)}}},[i("p",[t._v("发布")])]),t._v(" "),i("span",{staticClass:"iconfont icon-shanchu-dianji cursor-p",staticStyle:{"font-size":"15px",color:"#F56C6C"},on:{click:function(i){return t.handleDelete(e.row)}}},[i("p",[t._v("删除")])])])]}}])})],1)],1)]),t._v(" "),i("div",{staticClass:"flex-row text-12 justify-between ",staticStyle:{"margin-left":"0px","margin-top":"10px"}},[i("div",{staticStyle:{"text-align":"center","line-height":"2.5em","margin-left":"2em"}},[t._v("第"+t._s(t.pageNum)+"页,共"+t._s(t.allpage)+"页，共"+t._s(t.total)+"条")]),t._v(" "),i("el-pagination",{attrs:{background:"","current-page":t.pageNum,"page-sizes":[10,20,30],"page-size":t.pageSize,layout:"sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageNum=e},"update:current-page":function(e){t.pageNum=e}}})],1),t._v(" "),t.showcont?i("div",{staticClass:"editcontent"},[i("adduser",{on:{back:t.back}})],1):t._e(),t._v(" "),t.routede?i("div",{staticClass:"editcontent"},[i("userdetail",{attrs:{opt:t.opt},on:{hideuser:t.hideuser}})],1):t._e(),t._v(" "),i("v-dialog",{attrs:{width:"400px",callback:t.confirmDelete,show:!!t.confirmDelete}},[[i("div",{staticStyle:{padding:"20px 30px","font-weight":"600"}},[t._v("确定删除所选的"+t._s(t.num)+"条信息吗？"),i("p",{staticStyle:{"font-size":"14px","font-weight":"400"}},[t._v("删除后数据不可恢复，请谨慎选择")])])]],2)],1)},staticRenderFns:[]};var z={components:{orchart:s,jgzn:p,ryxx:i("C7Lr")(y,k,!1,function(t){i("9id4")},"data-v-0666ff9e",null).exports},data:function(){return{current:"jgsz",currentView:"orchart",editor:!1,cx:!1,hidesave:!0,isboss:-2}},mounted:function(){this.$route.params.opt&&(this.currentView=this.$route.params.opt,this.current="人员信息")},methods:{cdata:function(t){switch(this.current=t,this.editor=!1,t){case"jgsz":this.currentView="orchart",this.hidesave=!0;break;case"jgzn":this.currentView="jgzn",this.editor=!0,this.hidesave=!1;break;case"人员信息":this.currentView="ryxx",this.hidesave=!0,this.isboss=-2;break;case"领导信息":this.currentView="ryxx",this.hidesave=!0,this.isboss=1;break;case"工作人员":this.currentView="ryxx",this.hidesave=!0,this.isboss=0}},showdialog:function(){this.$emit("showdia",!0)},edit:function(){this.$refs.jgzn.showcont=!0,this.hidesave=!0},save:function(){"jgzn"==this.currentView&&(this.$bus.$emit("savejson","change"),this.hidesave=!1),this.$message({showClose:!0,message:"保存成功！",type:"success"})},backhome:function(){this.$message({showClose:!0,message:"发布成功！",type:"success"})}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{staticClass:"flex-row align-items-center",staticStyle:{width:"calc(100% - 22px)",height:"50px",border:"1px #E4E4E4 solid","padding-left":"20px"}},[t.editor?i("el-button",{staticClass:"el-icon-edit",attrs:{type:"danger",size:"small"},on:{click:function(e){return t.edit()}}},[t._v(" 编辑")]):t._e(),t._v(" "),t.hidesave?i("el-button",{directives:[{name:"show",rawName:"v-show",value:"ryxx"!=t.currentView,expression:"currentView!='ryxx' "}],staticClass:"el-icon-collection",attrs:{type:"success",size:"small"},on:{click:function(e){return t.save()}}},[t._v(" 保存")]):t._e()],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"cursor-p flex-column",staticStyle:{"margin-top":"5px",width:"170px",border:"1px solid #e4e4e4","text-align":"left","font-size":"14px"}},[i("div",{staticStyle:{"text-align":"left",background:"#61A7CF",padding:"5px",color:"white"}},[t._v("内容分类列表")]),t._v(" "),t._m(0),t._v(" "),i("ul",[i("li",{staticClass:"iconfont icon-baocun",class:{active:"jgsz"==t.current},staticStyle:{color:"#C6699F"}},[i("span",{staticStyle:{color:"black"},on:{click:function(e){return t.cdata("jgsz")}}},[t._v("机构设置")])]),t._v(" "),i("li",{staticClass:"iconfont icon-baocun",class:{active:"jgzn"==t.current},staticStyle:{color:"#C6699F"}},[i("span",{staticStyle:{color:"black"},on:{click:function(e){return t.cdata("jgzn")}}},[t._v("机构职能")])])]),t._v(" "),i("div",{staticClass:"iconfont icon-bianzu",class:{active:"人员信息"==t.current},staticStyle:{"margin-top":"5px","padding-left":"40px",color:"#FF9800"}},[i("span",{staticStyle:{color:"black"},on:{click:function(e){return t.cdata("人员信息")}}},[t._v("人员信息")])]),t._v(" "),i("ul",{staticStyle:{"margin-left":"8px"}},[i("li",{staticClass:"iconfont icon-baocun",class:{active:"领导信息"==t.current},staticStyle:{color:"#C6699F"}},[i("span",{staticStyle:{color:"black"},on:{click:function(e){return t.cdata("领导信息")}}},[t._v("领导信息")])]),t._v(" "),i("li",{staticClass:"iconfont icon-baocun",class:{active:"工作人员"==t.current},staticStyle:{color:"#C6699F"}},[i("span",{staticStyle:{color:"black"},on:{click:function(e){return t.cdata("工作人员")}}},[t._v("工作人员")])])])]),t._v(" "),i("div",{staticClass:"border-normal",staticStyle:{width:"calc(100% - 170px)",margin:"5px 0 0 5px"}},[i("div",[i(t.currentView,{ref:"jgzn",tag:"component",attrs:{isboss:t.isboss}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"iconfont icon-bianzu",staticStyle:{"margin-top":"20px","margin-left":"15px",color:"#FF9800"}},[e("span",{staticStyle:{color:"black"}},[this._v("全部分类")])])}]};var C=i("C7Lr")(z,S,!1,function(t){i("o381")},"data-v-79c0a92b",null);e.default=C.exports},n42f:function(t,e){},o381:function(t,e){},rTm6:function(t,e){},uqqi:function(t,e){}});